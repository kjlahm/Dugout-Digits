@model DugoutDigits.Models.LogOnModel

@{
    Layout = "../Shared/_Layout.cshtml";
    ViewBag.Title = "Home Page";
}

<div id="leftColA">
    <div class="columnContent">
        @if (Request.IsAuthenticated) {
            <div id="account-summary-info">
                <h3>Account Summary</h3>
                <p>@ViewBag.FirstName @ViewBag.LastName</p>
                <img src="@ViewBag.ImageURL" alt="profile image" />
            </div>
            <div id="sidebar-teamlist">
                <h3>My Teams</h3>
                <div id="sidebar-teamlist-content"></div>
                @if (ViewBag.CoachPermission) {
                    <div onClick="submenu_handler('subtab-addteam')">Add a Team</div>
                }
            </div>
        }
        else {

            using (Html.BeginForm("LogOn", "Account")) {
                <div>
                    <fieldset>
                        <legend>Account Information</legend>

                        <div class="editor-label">
                            @Html.LabelFor(m => m.Email)
                        </div>
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.Email)
                            @Html.ValidationMessageFor(m => m.Email)
                        </div>

                        <div class="editor-label">
                            @Html.LabelFor(m => m.Password)
                        </div>
                        <div class="editor-field">
                            @Html.PasswordFor(m => m.Password)
                            @Html.ValidationMessageFor(m => m.Password)
                        </div>

                        <div class="editor-label">
                            @Html.CheckBoxFor(m => m.RememberMe)
                            @Html.LabelFor(m => m.RememberMe)
                        </div>

                        <p>
                            <input type="submit" value="Log On" />
                        </p>
                    </fieldset>
                </div>
            }
            
            <p>New to DugoutDigits? @Html.ActionLink("Register", "Register", "Account")</p>
        }
    </div>
</div>

<div id="rightColA">
    <div class="columnContent">
        @if (Request.IsAuthenticated) {
            <div id="subtabs">
                <ul>
                    <li id="subtab-myteams" class="active-subtab">My Teams</li>
                    <li id="subtab-searchteams" class="inactive-subtab">Search Teams</li>
                    @if (ViewBag.CoachPermission) {
                        <li id="subtab-addteam" class="inactive-subtab">Add a Team</li>
                        <li id="subtab-inviteuser" class="inactive-subtab">Invite a User</li>
                    } else {
                        <li id="subtab-registercoach" class="inactive-subtab">Register as a Coach</li>
                    }
                </ul>
            </div>
            <div id="inner-content"></div>
        }
        else {
            <p>This is the right column. It has some information about the site.</p>
        }
    </div>
</div>

<div class="clear"></div>
<div class="lightbox-black" id="lightbox-black-index" onclick='action_hidedetails()'></div>
<div class="lightbox-content" id="lightbox-content-index"></div>

<!-- Include necesary scripts at the bottom of the page. -->
<script type="text/javascript" src="./../../Scripts/index.js"></script>